{"version":3,"sources":["CameraAccess.js","App.js","index.js"],"names":["CameraAccess","handleCamera","useState","permissionState","setPermissionState","setVisibilityState","handleVisibilityChange","useCallback","document","visibilityState","useEffect","alert","addEventListener","removeEventListener","navigator","mediaDevices","getUserMedia","video","stream","console","log","getTracks","forEach","track","stop","name","checkPermission","className","onClick","App","showCameraPage","setShowCameraPage","rootElement","getElementById","createRoot","render"],"mappings":"oPA6EeA,EA1EM,SAAH,GAA0B,IAApBC,EAAY,EAAZA,aACtB,EAA8CC,mBAAS,QAAO,mBAAvDC,EAAe,KAAEC,EAAkB,KAC1C,EAA8CF,oBAAS,GAAK,mBAApCG,GAAF,KAAoB,MAEpCC,EAAyBC,uBAAY,WACzCF,EAAgD,YAA7BG,SAASC,gBAC9B,GAAG,IAoCH,OAlCAC,qBAAU,WAGR,OAFAC,QACAH,SAASI,iBAAiB,mBAAoBN,GACvC,WACLE,SAASK,oBAAoB,mBAAoBP,EACnD,CAEF,GAAG,IAEHI,qBAAU,WAGsB,aAkB7B,OAlB6B,kCAA9B,uHAEyBI,UAAUC,aAAaC,aAAa,CACvDC,OAAO,IACN,KAAD,EAFIC,EAAM,OAGZd,EAAmB,WACnBe,QAAQC,IAAI,6BAEZF,EAAOG,YAAYC,SAAQ,SAACC,GAAK,OAAKA,EAAMC,MAAM,IAAE,gDAEjC,oBAAf,KAAMC,MACRrB,EAAmB,WACnBe,QAAQC,IAAI,kCAEZhB,EAAmB,UACnBe,QAAQC,IAAI,6CACb,0DAEJ,sBAnBDD,QAAQC,IAAIjB,GAAiB,WACC,wBAmB9BuB,EACF,IAGE,sBAAKC,UAAU,gBAAe,UACP,SAApBxB,GAA8B,4BAAG,mCACb,YAApBA,GACC,gCACE,4BAAG,yCACH,wBAAQyB,QAAS3B,EAAa,SAAC,YAGd,YAApBE,GACC,gCACE,4BAAG,8FAIH,wBAAQyB,QAAS3B,EAAa,SAAC,YAGd,WAApBE,GACC,gCACE,4BAAG,0FAIH,iCAAQ,iBACR,wBAAQyB,QAAS3B,EAAa,SAAC,cAKzC,ECvEe,SAAS4B,IACtB,MAA4C3B,oBAAS,GAAM,mBAApD4B,EAAc,KAAEC,EAAiB,KAElC9B,EAAe,WACnB8B,GAAmBD,EACrB,EACA,OACE,sBAAKH,UAAU,MAAK,UAClB,wBAAQA,UAAU,MAAMC,QAAS3B,EAAa,SAAC,kBAG9C6B,EAAiB,cAAC,EAAY,CAAC7B,aAAcA,IAAmB,OAGvE,CCbA,IAAM+B,EAAcxB,SAASyB,eAAe,QAC/BC,qBAAWF,GAEnBG,OACH,cAAC,aAAU,UACT,cAACN,EAAG,M","file":"static/js/main.ebf2a9be.chunk.js","sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst CameraAccess = ({ handleCamera }) => {\n  const [permissionState, setPermissionState] = useState(\"null\");\n  const [visibilityState, setVisibilityState] = useState(true);\n\n  const handleVisibilityChange = useCallback(() => {\n    setVisibilityState(document.visibilityState === \"visible\");\n  }, []);\n\n  useEffect(() => {\n    alert();\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    return () => {\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n    return visibilityState;\n  }, []);\n\n  useEffect(() => {\n    // setPermissionState(\"null\");\n    console.log(permissionState);\n    async function checkPermission() {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        setPermissionState(\"granted\");\n        console.log(\"Camera permission granted\");\n        // Clean up the stream\n        stream.getTracks().forEach((track) => track.stop());\n      } catch (error) {\n        if (error.name === \"NotAllowedError\") {\n          setPermissionState(\"blocked\");\n          console.log(\"Camera permission is blocked\");\n        } else {\n          setPermissionState(\"prompt\");\n          console.log(\"Camera permission prompt is likely shown\");\n        }\n      }\n    }\n    checkPermission();\n  });\n\n  return (\n    <div className=\"camera-screen\">\n      {permissionState === \"null\" && <p>Checking camera permissions...</p>}\n      {permissionState === \"granted\" && (\n        <div>\n          <p>Camera permission is already granted</p>\n          <button onClick={handleCamera}>Back</button>\n        </div>\n      )}\n      {permissionState === \"blocked\" && (\n        <div>\n          <p>\n            Camera permission is already blocked. Please allow camera access in\n            your browser settings\n          </p>\n          <button onClick={handleCamera}>Back</button>\n        </div>\n      )}\n      {permissionState === \"prompt\" && (\n        <div>\n          <p>\n            Camera permission is set to prompt. Please allow access through your\n            browser settings\n          </p>\n          <button>Grant access</button>\n          <button onClick={handleCamera}>Back</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CameraAccess;\n","import \"./styles.css\";\nimport { useState } from \"react\";\nimport CameraAccess from \"./CameraAccess\";\n\nexport default function App() {\n  const [showCameraPage, setShowCameraPage] = useState(false);\n\n  const handleCamera = () => {\n    setShowCameraPage(!showCameraPage);\n  };\n  return (\n    <div className=\"App\">\n      <button className=\"btn\" onClick={handleCamera}>\n        Camera Access\n      </button>\n      {showCameraPage ? <CameraAccess handleCamera={handleCamera} /> : null}\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}